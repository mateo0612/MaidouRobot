<xml version="Mixly 2.0 rc1" board="Arduino AVR@Arduino/Genuino Uno" xmlns="http://www.w3.org/1999/xhtml"><block type="base_setup" id="3$_DuZDAx34qU3;p5]=v" x="-24" y="-68"><statement name="DO"><block type="serial_begin" id="}_9;~7nM,/ASR.KCYe4+"><field name="serial_select">Serial</field><value name="CONTENT"><shadow type="math_number" id="!K8`;`wpKrYl;!K%WWT$"><field name="NUM">9600</field></shadow></value><next><block type="variables_declare" id="Nk1R6]f0;vN`hxG6@*`="><field name="variables_type">global_variate</field><field name="VAR">油门</field><field name="TYPE">float</field><value name="VALUE"><block type="math_number" id="d5ON4i*8S6e73S3ykV4X"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="Zwl3Y-$Av.pK8*3fSmQJ"><field name="variables_type">global_variate</field><field name="VAR">转向</field><field name="TYPE">float</field><value name="VALUE"><block type="math_number" id="){tb=430Z;IEDkC}Q4Y_"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="{gce%#`?/sPFay#LfQbc"><field name="variables_type">global_variate</field><field name="VAR">油门1</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id="$K6Tj!¯_Evfd:eh,R2"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="LoRs7yV/-nggn34S%H)Y"><field name="variables_type">global_variate</field><field name="VAR">转向1</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id="./r@)(v_^?t95)%wSv?x"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="4uJZ_8UIhELbY:cV_B/$"><field name="variables_type">global_variate</field><field name="VAR">油转标志</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id="uOnrSk(_l+uY1#ku#~kS"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="(!}b8D9)JI:${:@}vI^;"><field name="variables_type">global_variate</field><field name="VAR">C</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id="EQg^vOI;Ajd_~jt_d~L]"><field name="NUM">0</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="procedures_defnoreturn" id="G:anRy5sBjUmRA~7kbcD" x="1112" y="-105"><field name="NAME">处理蓝牙数据</field><statement name="STACK"><block type="controls_if" id="s}*F=y[N(m0L.^mhgtc3"><value name="IF0"><block type="serial_available" id="VhYZ4nz4,Ut*~AuwOGAF"><field name="serial_select">Serial</field></block></value><statement name="DO0"><block type="variables_set" id="r-)F1Y7s!n?Z_X0]5@TF"><field name="VAR">C</field><value name="VALUE"><block type="serial_parseInt_Float" id="T5)]O%;}:l~,acHN$zIF"><field name="serial_select">Serial</field><field name="STAT">read</field></block></value><next><block type="serial_print" id="LRgsQ}5lVf+w=AD~jn,]"><field name="serial_select">Serial</field><field name="new_line">println</field><value name="CONTENT"><block type="variables_get" id="XV0(Bd!*/xr)c#V(L1#T"><field name="VAR">C</field></block></value></block></next></block></statement><next><block type="controls_if" id="frgwny5Ao`Tc0rN}n^Xn"><mutation xmlns="http://www.w3.org/1999/xhtml" elseif="3"></mutation><value name="IF0"><block type="logic_compare" id="zYu9HP=A;g7fd01$9:XH"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="CP9jH(8:]|$^mdvRfsAh"><field name="VAR">C</field></block></value><value name="B"><block type="math_number" id="Bkis!tjc0s/;PnhF/Q,-"><field name="NUM">251</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="bac%s~/5zC8Sxb=9O:I%"><field name="VAR">油转标志</field><value name="VALUE"><block type="math_number" id="Yp96};Gl-[hDTT`se@xk"><field name="NUM">1</field></block></value></block></statement><value name="IF1"><block type="logic_compare" id=")CTPg1}PfTKHt/Uf7pP^"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="]Tcy?20cB)?BXrj|jsM;"><field name="VAR">油转标志</field></block></value><value name="B"><block type="math_number" id="Mf]i1Guq9`,vRW_=9x.f"><field name="NUM">1</field></block></value></block></value><statement name="DO1"><block type="variables_set" id="VFr9.%U3e4CYh)_IgaYb"><field name="VAR">油门1</field><value name="VALUE"><block type="math_arithmetic" id="3h]@%Di|onllO*d#ef2I"><field name="OP">MINUS</field><value name="A"><shadow xmlns="http://www.w3.org/1999/xhtml" type="math_number" id="tJ~r#{VdY?P$l.a$3mZ{"><field name="NUM">1</field></shadow><block type="variables_get" id="}P#{;9ob`$Kpv+ZO40hE"><field name="VAR">C</field></block></value><value name="B"><shadow type="math_number" id="o0=pkS20wwtLq~;w=A%B"><field name="NUM">49</field></shadow></value></block></value><next><block type="variables_set" id="VGAz]g{1%KTKYjp!TRA)"><field name="VAR">油转标志</field><value name="VALUE"><block type="math_number" id="kd/_LK_CANesq{?hsX3I"><field name="NUM">2</field></block></value></block></next></block></statement><value name="IF2"><block type="logic_compare" id="L^CP_~=`CX/`6s0smH1g"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="XW1^-.mB$sAyHtd]pA/p"><field name="VAR">油转标志</field></block></value><value name="B"><block type="math_number" id="7Bt#SL5?7wF).X=U*R+D"><field name="NUM">2</field></block></value></block></value><statement name="DO2"><block type="variables_set" id="tc+s4D$R{4:e#csPTsWg"><field name="VAR">转向1</field><value name="VALUE"><block type="math_arithmetic" id="k$(|;7yJOKSxk;;p=5PS"><field name="OP">MINUS</field><value name="A"><shadow xmlns="http://www.w3.org/1999/xhtml" type="math_number"><field name="NUM">1</field></shadow><block type="variables_get" id="J%8JKS]On{PE+3x.tbo-"><field name="VAR">C</field></block></value><value name="B"><shadow type="math_number" id="V*f0mU^9#1H#Q(Z%Oe}a"><field name="NUM">49</field></shadow></value></block></value><next><block type="variables_set" id="V##GETD#g{^+YiS]k=bs"><field name="VAR">油转标志</field><value name="VALUE"><block type="math_number" id="}ud5SvVRXhqZ-FDkmZSh"><field name="NUM">3</field></block></value></block></next></block></statement><value name="IF3"><block type="logic_compare" id="W7-aErz5USps3oELQtPv"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="a=s%E`n?i/=xdahXDriI"><field name="VAR">油转标志</field></block></value><value name="B"><block type="math_number" id="]k0#YSWy#jot%Msdcude"><field name="NUM">3</field></block></value></block></value><statement name="DO3"><block type="variables_set" id="cBsBIq7PmYNSp4e~`WI2"><field name="VAR">油转标志</field><value name="VALUE"><block type="math_number" id="(p-W5J5:1YN$Ej~2w:W."><field name="NUM">0</field></block></value><next><block type="variables_set" id="`zHJ7)jhh{FdfVOXWlIS"><field name="VAR">油门</field><value name="VALUE"><block type="math_arithmetic" id="?az$`9J:,MJ-fBgA1$nl"><field name="OP">DIVIDE</field><value name="A"><shadow xmlns="http://www.w3.org/1999/xhtml" type="math_number" id="(qHD{[FU7o:bL;kzzg3u"><field name="NUM">1</field></shadow><block type="variables_get" id="dfJlneQy]=h7,8I5dH21"><field name="VAR">油门1</field></block></value><value name="B"><shadow type="math_number" id="u-w!qUH)XsvV*|OkG?HC"><field name="NUM">50.0</field></shadow></value></block></value><next><block type="variables_set" id="%6!j_BOq|TvJVV_})@tE"><field name="VAR">转向</field><value name="VALUE"><block type="math_arithmetic" id="=GZ(2Q.3JSbvRX+9*.ng"><field name="OP">DIVIDE</field><value name="A"><shadow xmlns="http://www.w3.org/1999/xhtml" type="math_number" id="^g`/xeHVY3*#p8mxkj)."><field name="NUM">1</field></shadow><block type="variables_get" id="}bKiHdqNXV^F`pp9thch"><field name="VAR">转向1</field></block></value><value name="B"><shadow type="math_number" id="l`5}A*e8,1|]6t:u~Niy"><field name="NUM">50.0</field></shadow></value></block></value></block></next></block></next></block></statement></block></next></block></statement></block><block type="factory_notes" id="sE[lF:%iwOhH0q4obp4t" x="-11" y="227"><field name="VALUE">获取油门和转弯数据</field><next><block type="procedures_callnoreturn" id="0ir?-gQq}qyWLJ+i%X]H"><mutation xmlns="http://www.w3.org/1999/xhtml" name="处理蓝牙数据"></mutation><next><block type="factory_notes" id="(Zux^Y7[MDE.Q6$j^5yv"><field name="VALUE">基于油门和转弯数据来计算左右轮子的速度</field><next><block type="variables_declare" id="MQa(vxqb0a-p}~h=2!w;"><field name="variables_type">local_variate</field><field name="VAR">左轮速度</field><field name="TYPE">int</field><value name="VALUE"><block type="procedures_callreturn" id="*r~j_8gys`o7d~E?m-fN"><mutation xmlns="http://www.w3.org/1999/xhtml" name="规范化速度"><arg name="速度"></arg></mutation><value name="ARG0"><block type="math_arithmetic" id="MEu?C:Cbi(z3K0bLCMJt"><field name="OP">MINUS</field><value name="A"><shadow xmlns="http://www.w3.org/1999/xhtml" type="math_number" id="i=j+#7s;0[khh;w6%]EN"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="/hWK5,Z6}!Rn;aL43@+n"><field name="OP">MULTIPLY</field><value name="A"><shadow xmlns="http://www.w3.org/1999/xhtml" type="math_number" id="U3-{gT~65f-}08?z5g)n"><field name="NUM">1</field></shadow><block type="variables_get" id="/A+QhjT@vnEX):b$5d_*"><field name="VAR">油门</field></block></value><value name="B"><shadow type="math_number" id="3lRLPYQru=8$$9f~c1)K"><field name="NUM">255</field></shadow></value></block></value><value name="B"><shadow xmlns="http://www.w3.org/1999/xhtml" type="math_number" id="C{(YHo4P_9FqerA*Ema$"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="|bSWTWUJ.7fsAo;x~|[L"><field name="OP">MULTIPLY</field><value name="A"><shadow xmlns="http://www.w3.org/1999/xhtml" type="math_number"><field name="NUM">1</field></shadow><block type="variables_get" id="gM}?RL]LU4:Cj:t|jc"><field name="VAR">转向</field></block></value><value name="B"><shadow type="math_number" id="ktA2qs4*ZuJR4Vinr4!}"><field name="NUM">255</field></shadow></value></block></value></block></value></block></value><next><block type="variables_declare" id="Ck]W}8hW{WO?)Fj3C!nq"><field name="variables_type">local_variate</field><field name="VAR">右轮速度</field><field name="TYPE">int</field><value name="VALUE"><block type="procedures_callreturn" id="PY$WlpvA=Pr~!k9Ct0W-"><mutation xmlns="http://www.w3.org/1999/xhtml" name="规范化速度"><arg name="速度"></arg></mutation><value name="ARG0"><block type="math_arithmetic" id="}8G[4dn~fT~4oBF.gy9Z"><field name="OP">ADD</field><value name="A"><shadow xmlns="http://www.w3.org/1999/xhtml" type="math_number"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="m[{O(+xbD,jcaogE2{Ek"><field name="OP">MULTIPLY</field><value name="A"><shadow xmlns="http://www.w3.org/1999/xhtml" type="math_number"><field name="NUM">1</field></shadow><block type="variables_get" id="9!RUuliT9;bB7gVZblX{"><field name="VAR">油门</field></block></value><value name="B"><shadow type="math_number" id="WMgm:b(zaF1Ss1Lo=J=t"><field name="NUM">255</field></shadow></value></block></value><value name="B"><shadow xmlns="http://www.w3.org/1999/xhtml" type="math_number"><field name="NUM">1</field></shadow><block type="math_arithmetic" id=".(7,f*JRX*TQHxJ3jfKj"><field name="OP">MULTIPLY</field><value name="A"><shadow xmlns="http://www.w3.org/1999/xhtml" type="math_number"><field name="NUM">1</field></shadow><block type="variables_get" id="%YWiSoJ?qt*Qm9Yc/ZUL"><field name="VAR">转向</field></block></value><value name="B"><shadow type="math_number" id=";A;S}.KIe`Vz`xWvre4)"><field name="NUM">255</field></shadow></value></block></value></block></value></block></value><next><block type="factory_notes" id="]c)Dtkdh+kDAxn^c)XD="><field name="VALUE">将左右轮子的速度发给L298N</field><next><block type="Motor_8833" id="_8VEz292#Gch8riQfQ1="><value name="PIN1"><shadow type="pins_pwm" id="])2V:Qwxkk6_5Qm0j~U_"><field name="PIN">5</field></shadow></value><value name="PIN2"><shadow type="pins_digital" id="ApUhwaP+_IkVY?44P_y["><field name="PIN">6</field></shadow></value><value name="speed"><shadow xmlns="http://www.w3.org/1999/xhtml" type="math_number" id="[V%egpcuf^T7Y:Q-YY%Z"><field name="NUM">100</field></shadow><block type="variables_get" id="Wy8tL{wg7[00Rn)GZEX^"><field name="VAR">左轮速度</field></block></value><next><block type="Motor_8833" id="L=lRPBGr-rf4}4lz%zzE"><value name="PIN1"><shadow type="pins_pwm" id="QayIP-?t6Jn-{fhFZ}s_"><field name="PIN">9</field></shadow></value><value name="PIN2"><shadow type="pins_digital" id="{q4{_MQ$t$*nrRW[;k.;"><field name="PIN">10</field></shadow></value><value name="speed"><shadow xmlns="http://www.w3.org/1999/xhtml" type="math_number" id=":rr@??:Z_kBbzfhTUhS-"><field name="NUM">100</field></shadow><block type="variables_get" id="XB@u6MV*L8:NU3u0fxJI"><field name="VAR">右轮速度</field></block></value><next><block type="serial_print" id="EVslCKfU$qmV0Yj7eo,y"><field name="serial_select">Serial</field><field name="new_line">println</field><value name="CONTENT"><block type="text_join" id="WeM-cKg-j(=W{)wmYkf%"><value name="A"><shadow xmlns="http://www.w3.org/1999/xhtml" type="text" id="uuifJJ2]vo_Sh_pkw,I~"><field name="TEXT">Hello</field></shadow><block type="variables_get" id="]@sI=b5z]iiMD;{|?$W$"><field name="VAR">左轮速度</field></block></value><value name="B"><shadow xmlns="http://www.w3.org/1999/xhtml" type="text" id="lzj$umva2*Z9bRckuhYM"><field name="TEXT">Mixly</field></shadow><block type="text_join" id="O]@hf}6UiE$cVNWOi[]f"><value name="A"><shadow type="text" id="^Lk79CC,V;80c1W9FmmQ"><field name="TEXT"> </field></shadow></value><value name="B"><shadow xmlns="http://www.w3.org/1999/xhtml" type="text" id="FZSX709g2xzJXrdJZCSt"><field name="TEXT">Mixly</field></shadow><block type="variables_get" id="vwqL%~GKSU+]EpvWPKr2"><field name="VAR">右轮速度</field></block></value></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block><block type="procedures_defreturn" id="E_95SqhmghV~/(iQIJ{L" x="1113" y="577"><mutation xmlns="http://www.w3.org/1999/xhtml"><arg name="速度" vartype="int"></arg></mutation><field name="NAME">规范化速度</field><field name="TYPE">int</field><statement name="STACK"><block type="controls_if" id="(iYJ{+W~/hZ;W4Bl2`pd"><value name="IF0"><block type="logic_compare" id="[LM|yIga4Lj~8_z=j6Uf"><field name="OP">GT</field><value name="A"><block type="variables_get" id="@gj1-sYjR*UHpA=e/(]b"><field name="VAR">速度</field></block></value><value name="B"><block type="math_number" id="yXjItknyCCe,NPR.UMa`"><field name="NUM">255</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="@ul~`DwO|Dq/dWx-FzVO"><field name="VAR">速度</field><value name="VALUE"><block type="math_number" id="3Y+I/ygD8msf#xuL]H00"><field name="NUM">255</field></block></value></block></statement><next><block type="controls_if" id="n]LcGwO.Z4Yyh6/xA:FV"><value name="IF0"><block type="logic_compare" id="+|x(Nt|QqoV`E,%$gw*L"><field name="OP">LT</field><value name="A"><block type="variables_get" id="9:c]X)TUX]o~/E^{{-HL"><field name="VAR">速度</field></block></value><value name="B"><block type="math_number" id="zw{DlGENbsGIe,MyMI*9"><field name="NUM">-255</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="@W8K6!y6kJR+s^{Uqh_W"><field name="VAR">速度</field><value name="VALUE"><block type="math_number" id="U]:;OkU7Rg0sCKCekR9k"><field name="NUM">-255</field></block></value></block></statement></block></next></block></statement><value name="RETURN"><block type="variables_get" id="ho`+SBF!{O(]V::my9rW"><field name="VAR">速度</field></block></value></block></xml>